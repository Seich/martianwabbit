<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>


	<title>Sergio Díaz  | Using TableViewControllers with Swift </title>
	
	<link rel="stylesheet" href="/css/screen.css">
	<link rel="alternate" type="application/rss+xml" title="RSS Feed for martianwabbit.com" href="http://feeds.feedburner.com/SeichysMissingBit" />

	<script src="/js/highlight.pack.js"></script>
</head>
<body>

<div id="top">
	<h1><a href="/">Sergio Díaz<span>.</span></a></h1>
</div>

<article>
	<h1>
		<a href="">Using TableViewControllers with Swift</a>
	</h1>

	<aside>
		<time>Posted on: July 31, 2014</time>
		<span>633 Words</span>
		<span>Takes 4 minutes to read</span>
	</aside>

	<p>Using a TableViewController with swift is easy. It takes only a couple of steps to create a table with custom cells. I started by creating a single view application.</p>

<p><img src="https://dl.dropboxusercontent.com/u/8252879/swiftTables_step_1.png" alt="New Project"></p>

<h2>Setting up the table and cell prototype</h2>

<p>I started by deleting the default view. Then, I added a <em>Table View Controller</em> to the storyboard.
Finally, I added two labels to the prototype cell. You can use the prototype cell to define how the cells for the table will look, so go ahead and tweak it to your convenience. Afterwards, I set the cell&#39;s identifier to &#39;cell&#39;. I am creating a Twitter client so I only need to display the user and the Tweet. </p>

<p>(There&#39;s a preset style that&#39;s only a title and a subtitle which I could have used but, I want more control over it&#39;s appearance so I went this way)</p>

<p><video controls>
    <source src="https://dl.dropboxusercontent.com/u/8252879/swiftTable_step_1.mp4" type="video/mp4; codecs=avc1.42E01E,mp4a.40.2">
    <source src="https://dl.dropboxusercontent.com/u/8252879/swiftTable_step_1.webm" type="video/webm; codecs=vp8,vorbis">
</video></p>

<p>Once I had my cell and table ready I just needed to do a couple more things. First, I created a class called TweetCell that inherits from <code>UITableViewCell</code>. I&#39;ll be using this class as a base for my custom cell. I set my class as the custom class and I added two outlets to refer to both of the labels. I named the big one &quot;username&quot; and the smaller one &quot;body&quot;.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">// TweetCell.swift
import UIKit

class TweetCell: UITableViewCell {

    @IBOutlet weak var username: UILabel!
    @IBOutlet weak var body: UILabel!
}
</code></pre></div>
<p><video controls>
    <source src="https://dl.dropboxusercontent.com/u/8252879/swiftTable_step_2.mp4" type="video/mp4; codecs=avc1.42E01E,mp4a.40.2">
    <source src="https://dl.dropboxusercontent.com/u/8252879/swiftTable_step_2.webm" type="video/webm; codecs=vp8,vorbis">
</video></p>

<h2>The ViewController</h2>

<p>Now I only have to set up the view controller. We already have the basic view controller that came with the project so now we can just change it to do our bidding.</p>

<p>I start by creating a struct to contain my tweets. I added it before the ViewController&#39;s class definition. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">struct Tweet {
    var username: String
    var body: String
}
</code></pre></div>
<p>After that, I changed the ViewController&#39;s parent class from <code>UIViewController</code> to <code>UITableViewController</code> and added the <code>UITableViewDataSource</code> protocol to it so my class looks like this:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">class ViewController: UITableViewController, UITableViewDataSource {

}
</code></pre></div>
<p>Now I added an array with a couple of tweets:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">var tweets: [Tweet] = [
    Tweet(username: &quot;Seich&quot;, body: &quot;Hello, World&quot;),
    Tweet(username: &quot;Albert&quot;, body: &quot;How are you doing?&quot;)
]
</code></pre></div>
<p>Finally I just need to override a couple of methods. The first one is this method:  <code>tableView(tableView: UITableView!, cellForRowAtIndexPath indexPath: NSIndexPath!) -&gt; UITableViewCell!</code> which determines what cell should be drawn at the given index. Here&#39;s how mine looks:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">override func tableView(
    tableView: UITableView!, 
    cellForRowAtIndexPath indexPath: NSIndexPath!) 
    -&gt; UITableViewCell! {

    var cell = tableView.dequeueReusableCellWithIdentifier(&quot;cell&quot;) as TweetCell

    cell.username.text = tweets[indexPath.row].username
    cell.body.text = tweets[indexPath.row].body

    return cell
}
</code></pre></div>
<p>The second method is this one: <code>override func tableView(tableView: UITableView!, numberOfRowsInSection section: Int) -&gt; Int</code> which should return the number of cells to draw, mine looks like this:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"> override func tableView(
    tableView: UITableView!, 
    numberOfRowsInSection section: Int) -&gt; Int {

    return tweets.count
}
</code></pre></div>
<p>And that&#39;s it. Here&#39;s my final code for the view controller:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">import UIKit

struct Tweet {
    var username: String
    var body: String
}

class ViewController: UITableViewController, UITableViewDataSource {

    var tweets: [Tweet] = [
        Tweet(username: &quot;Seich&quot;, body: &quot;Hello, World&quot;),
        Tweet(username: &quot;Albert&quot;, body: &quot;How are you doing?&quot;)
    ]

    override func tableView(
        tableView: UITableView!,
        numberOfRowsInSection section: Int)
        -&gt; Int {

        return tweets.count
    }

    override func tableView(
        tableView: UITableView!,
        cellForRowAtIndexPath indexPath: NSIndexPath!)
        -&gt; UITableViewCell! {

        var cell = tableView.dequeueReusableCellWithIdentifier(&quot;cell&quot;) as TweetCell

        cell.username.text = tweets[indexPath.row].username
        cell.body.text = tweets[indexPath.row].body

        return cell
    }
}
</code></pre></div>
<p>And this is what my finalised app looks like:</p>

<p><img src="https://dl.dropboxusercontent.com/u/8252879/swiftTables_final.png" alt="Final app" class="small"></p>

<p>It&#39;s not perfect but, it shouldn&#39;t take much to have it looking decent. I&#39;ll probably be revisiting this soon and finishing the whole Twitter application so stay tuned for more. </p>

<h2>Resources</h2>

<p><a href="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/tableview_iphone/AboutTableViewsiPhone/AboutTableViewsiPhone.html">About Table Views in iOS Apps</a></p>

<p><a href="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/tableview_iphone/CreateConfigureTableView/CreateConfigureTableView.html">Creating and Configuring a Table View</a></p>

<p><a href="http://www.raywenderlich.com/50308/storyboards-tutorial-in-ios-7-part-1">Storyboard Tutorial</a></p>


	<div id="disqus_thread"></div>
	<script type="text/javascript">
		/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		var disqus_shortname = 'martianwabbitblog'; // required: replace example with your forum shortname

		/* * * DON'T EDIT BELOW THIS LINE * * */
		(function() {
			var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>

<footer>
	<p>David Sergio Díaz © All Rights Reserved.</p>
	<p>Happily hosted on <a href="#">WebFaction</a>.</p>
</footer>

	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-2565966-9', 'auto');
		ga('send', 'pageview');
	</script>
</body>
</html>