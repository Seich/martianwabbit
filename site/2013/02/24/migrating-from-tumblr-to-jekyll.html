<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<title>Seichy's Missing Bit  | Migrating from Tumblr to Jekyll </title>
	
	<link rel="stylesheet" href="/css/screen.css">
	<link rel="alternate" type="application/rss+xml" title="RSS Feed for martianwabbit.com" href="http://feeds.feedburner.com/SeichysMissingBit" />

	<script src="/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>

<div class="container center">
	<header id="top">
		<h1>
			<a href="/">Seichy's Missing Bit</a>
		</h1>
	</header>

	<div class="content">
	<article class="post">
		<header>
			<h1>
				<a href="">Migrating from Tumblr to Jekyll</a>
			</h1>
			<time>February 24, 2013</time>
		</header>
		<p>A couple of months ago I moved my blog from Tumblr over to Jekyll and started hosting it with Webfaction. It’s been great so far but, I never quite figured out how to get rid of my old url redirecting everything to it’s new page on the new blog.</p>

<p>I originally thought I’d have to write a redirect rule for each of the posts I kept on the new blog and then make the subdomain redirect to to the domain. Needless to say that it felt so annoying that I ended up not doing anything at all. Until now, that is. So here is how I fixed stuff! First of all, since I imported my Tumblr posts using the importer that comes with Jekyll, I had urls that looked like this:</p>

<p><code>
	http://martianwabbit.com/2011/04/04/4344642365.html
</code></p>

<p>I didn’t really change them, I thought that they having their old ID would be handy when I wanted to make the shift completely. This ended up being a good decision at the end.</p>

<p>So now, the only thing I needed to do was to redirect this:</p>

<p><code>
http://blog.martianwabbit.com/post/4344642365/justvector-social-icons-font
</code></p>

<p>to this:</p>

<p><code>
http://martianwabbit.com/2011/04/04/4344642365.html
</code></p>

<p>Which isn’t as straight-forward since, I have no way of knowing what the date might be, so I changed the permalink for imported posts to this:</p>

<p><code>
<pre>
— <br />
layout: post <br />
title: &quot;JustVector Social Icons Font&quot; <br />
permalink: /post/4344642365.html <br />
—
</pre>
</code></p>

<p>So I could just do a simple URL redirect. Now, all I needed to do was setup apache so it’d redirect the URLs as intended, that was probably the easiest part, a quick regex later I ended up with this:</p>

<p><code>
<pre>
RedirectMatch \/post\/([0-9]+)\/.* /post/$1.html
</pre>
</code></p>

<p>Which worked exactly as intended, now all I have to do, is wait for the DNS to finish propagating.</p>
	</article>
</div>

	<footer>
		David Sergio Díaz &copy; All Rights Reserved.
		<br>
		Happily hosted on <a href="http://www.webfaction.com?affiliate=seich">WebFaction</a>
	</footer>
</div>

	<script src="/js/zepto.js"></script>
	<script src="/js/main.js"></script>
	<script>
        var _gaq=[['_setAccount','UA-2565966-9'],['_trackPageview']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
</body>
</html>